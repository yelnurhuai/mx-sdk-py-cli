<div class="debug-view">
    <div class="row mt-2">
        <div class="col-sm-12">
            <div class="form-group">
                <label class="control-label">Choose Smart Contract</label>
                <select name="FocusedSmartContract" class="form-control">
                </select>
            </div>
        </div>
    </div>

    <div class="row mt-2">
        <div class="col-sm-12">
            <div class="debug-panel"></div>
        </div>
    </div>

    <script type="text/template" id="DebugPanelForContract">
        <div class="card mt-3">
            <div class="card-body">
                <h4 class="card-title">Node debug</h4>
                <div class="mb-2">
                    Address:
                    <strong>[[ contract.PropertiesOnNodeDebug.Address || "none yet" ]]</strong>
                    <span class="text-muted">[[= contract.PropertiesOnNodeDebug.AddressTimestamp ]]</span>
                </div>

                <button class="btn btn-primary btn-configure-watch" title="Watch variables">
                    <i class="fas fa-glasses"></i>
                </button>

                [[ if (contract.BytecodeFile) { ]]
                <button class="btn btn-primary btn-deploy-contract" title="Deploy">
                    <i class="fas fa-upload"></i>
                </button>
                [[ } ]]

                [[ if (contract.PropertiesOnNodeDebug.Address) { ]]
                <button class="btn btn-primary btn-run-contract" type="button" title="Run function">
                    <i class="fas fa-play"></i>
                </button>
                [[ } ]]
            </div>
        </div>

        <div class="card mt-3">
            <div class="card-body">
                <h5 class="card-title">Watched variables</h5>
                <div>
                    <button class="btn btn-primary btn-refresh-watched" type="button" title="Refresh watched variables">
                        <i class="fas fa-sync"></i>
                    </button>
                </div>
                <div class="watched-variables-view mt-2">
                    [[ _.each(contract.PropertiesOnNodeDebug.WatchedVariablesValues, function(value, key) { ]]
                    <div>
                        <strong class="variable-name">[[= key ]]:</strong>
                        <kbd class="variable-value">[[= value ]]</kbd>
                    </div>
                    [[ }); ]]
                </div>
            </div>
        </div>

        <div class="card mt-3">
            <div class="card-body">
                <h5 class="card-title">VM output of latest run</h5>
                <div class="vm-output-view"></div>
            </div>
        </div>
    </script>
</div>